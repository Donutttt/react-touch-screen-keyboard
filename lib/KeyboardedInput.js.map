{"version":3,"sources":["../src/KeyboardedInput.js"],"names":["KeyboardedInput","props","handleFocus","bind","handleFocusLost","handleChange","hideKeyboard","state","showKeyboard","input","refs","addEventListener","removeEventListener","event","onChange","setState","that","setTimeout","document","activeElement","classList","contains","type","enabled","defaultKeyboard","secondaryKeyboard","Component"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEMA,e;;;AACJ,2BAAYC,KAAZ,EAAmB;AAAA;;AAAA,kIACXA,KADW;;AAEjB,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBC,IAAjB,OAAnB;AACA,UAAKC,eAAL,GAAuB,MAAKA,eAAL,CAAqBD,IAArB,OAAvB;AACA,UAAKE,YAAL,GAAoB,MAAKA,YAAL,CAAkBF,IAAlB,OAApB;AACA,UAAKG,YAAL,GAAoB,MAAKA,YAAL,CAAkBH,IAAlB,OAApB;;AAEA,UAAKI,KAAL,GAAa;AACXC,oBAAc,KADH;AAEXC,aAAO;AAFI,KAAb;AAPiB;AAWlB;;;;wCAEmB;AAClB,WAAKC,IAAL,CAAUD,KAAV,CAAgBE,gBAAhB,CAAiC,OAAjC,EAA0C,KAAKN,YAA/C;AACD;;;2CAEsB;AACrB,WAAKK,IAAL,CAAUD,KAAV,CAAgBG,mBAAhB,CAAoC,OAApC,EAA6C,KAAKP,YAAlD;AACD;;;iCAEYQ,K,EAAO;AAClB,WAAKZ,KAAL,CAAWa,QAAX,CAAoBD,KAApB;AACD;;;kCAEa;AACZ,WAAKE,QAAL,cAAkB,KAAKR,KAAvB,IAA8BC,cAAc,IAA5C;AACD;;;oCAEeK,K,EAAO;AACrB,UAAIG,OAAO,IAAX;AACAC,iBAAW,YAAU;AAClB,YAAI,CAACC,SAASC,aAAT,CAAuBC,SAAvB,CAAiCC,QAAjC,CAA0C,iBAA1C,CAAD,IAAiE,CAACH,SAASC,aAAT,CAAuBC,SAAvB,CAAiCC,QAAjC,CAA0C,UAA1C,CAAlE,IAA2H,CAACH,SAASC,aAAT,CAAuBC,SAAvB,CAAiCC,QAAjC,CAA0C,cAA1C,CAAhI,EAA2L;AACzLL,eAAKD,QAAL,cAAkBC,KAAKT,KAAvB,IAA8BC,cAAc,KAA5C;AACD;AACH,OAJD,EAIG,CAJH;AAKD;;;mCAEc;AACb,WAAKO,QAAL,cAAkB,KAAKR,KAAvB,IAA8BC,cAAc,KAA5C;AACD;;;6BAEQ;AACP,aACE;AAAA;AAAA;AACE,iDAAO,MAAM,KAAKP,KAAL,CAAWqB,IAAxB,EAA8B,SAAS,KAAKpB,WAA5C,EAAyD,QAAQ,KAAKE,eAAtE,EAAuF,KAAI,OAA3F,GADF;AAEG,aAAKG,KAAL,CAAWC,YAAX,IAA2B,KAAKP,KAAL,CAAWsB,OAAtC,IACC;AACE,wBAAc,KAAKjB,YADrB;AAEE,2BAAiB,KAAKL,KAAL,CAAWuB,eAF9B;AAGE,6BAAmB,KAAKvB,KAAL,CAAWwB,iBAHhC;AAIE,qBAAW,KAAKf,IAAL,CAAUD;AAJvB;AAHJ,OADF;AAaD;;;;EAzD2B,gBAAMiB,S;;kBA4DrB1B,e","file":"KeyboardedInput.js","sourcesContent":["import React from 'react';\nimport Keyboard from './Keyboard';\nimport KeyboardButton from './KeyboardButton';\n\nclass KeyboardedInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleFocus = this.handleFocus.bind(this);\n    this.handleFocusLost = this.handleFocusLost.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.hideKeyboard = this.hideKeyboard.bind(this);\n\n    this.state = {\n      showKeyboard: false,\n      input: null,\n    };\n  }\n\n  componentDidMount() {\n    this.refs.input.addEventListener('input', this.handleChange);\n  }\n\n  componentWillUnmount() {\n    this.refs.input.removeEventListener('input', this.handleChange);\n  }\n\n  handleChange(event) {\n    this.props.onChange(event);\n  }\n\n  handleFocus() {\n    this.setState({...this.state, showKeyboard: true});\n  }\n\n  handleFocusLost(event) {\n    var that = this;\n    setTimeout(function(){\n       if (!document.activeElement.classList.contains(\"keyboard-button\") && !document.activeElement.classList.contains(\"keyboard\") && !document.activeElement.classList.contains(\"keyboard-row\")) {\n         that.setState({...that.state, showKeyboard: false});\n       }\n    }, 0);\n  }\n\n  hideKeyboard() {\n    this.setState({...this.state, showKeyboard: false});\n  }\n\n  render() {\n    return (\n      <div>\n        <input type={this.props.type} onFocus={this.handleFocus} onBlur={this.handleFocusLost} ref=\"input\" />\n        {this.state.showKeyboard && this.props.enabled &&\n          <Keyboard\n            hideKeyboard={this.hideKeyboard}\n            defaultKeyboard={this.props.defaultKeyboard}\n            secondaryKeyboard={this.props.secondaryKeyboard}\n            inputNode={this.refs.input}\n          />\n        }\n      </div>\n    );\n  }\n}\n\nexport default KeyboardedInput;\n"]}